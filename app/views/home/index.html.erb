<h1>Luber</h1>
<h2>Want a Ride?</h2>
<div class="container">
    <div id="row">
        <!-- <form>
            <input id="autocomplete" placeholder="Enter Start Address"
             type="text">
            <input id="autocomplete2" placeholder="Enter Destination"
             onFocus="geolocate()" type="text">
            <input id="submitbutton" type="submit" value="Submit">
        </form> -->
        <%= form_tag("/", method: "get") do %>
           <%= label_tag(:start, "Starting Address:") %>
           <%= text_field_tag(:start) %>
           <%= label_tag(:endloc, "Destination:") %>
           <%= text_field_tag(:endloc) %>
           <%= submit_tag("Submit") %>
       <% end %>
    </div>
    
    <div class="row">
            <div id="uber" class="col-sm-4 col-sm-offset-1">
                <h3><strong>Uber</strong></h3>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Ride Type</th>
                            <th>Ride Time</th>
                            <th>Price Estimate</th>
                            <th>Surge Multiplier</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <% if @start.nil? != true && @endloc.nil? != true %>        
                            <% @uber_output.each do |object| %>
                                <td><%= object["localized_display_name"] %></td>
                                <td><%= (object["duration"]/60).to_s + " minutes" %></td>
                                <td><%= object["estimate"] %></td>
                                <td><%= object["surge_multiplier"] %></td>
                        </tr>
                            <% end %>
                        <% end %>
                    </tbody>
                </table>
            </div>
            <div id="lyft" class="col-sm-4 col-sm-offset-2">
                <h3><strong>Lyft</strong></h3>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Ride Type</th>
                            <th>Ride Time</th>
                            <th>Price Estimate</th>
                            <th>Primetime Percentage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        <% if @start.nil? != true && @endloc.nil? != true %>
                            <% @lyftHash.each do |x| %>
                                <td><%= x["ride_type"] %></td>
                                <td><%= (x["estimated_duration_seconds"]/60).to_s + " minutes" %></td>
                                <td>$<%= ((x["estimated_cost_cents_min"]).round) / 100 %> - <%= ((x["estimated_cost_cents_max"]).round) / 100 %></td>
                                <td><%= x["primetime_percentage"] %></td>
                        </tr>
                            <% end %>
                        <% end %>
                    </tbody>
                </table>
            </div>
        </div>
</div>